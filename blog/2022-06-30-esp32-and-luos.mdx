---
title: "ESP32 and Luos"
description: luos_engine is plug-and-play compatible with the ESP32 family! Luos and Espressif have many concepts in common, find out more in this article.
slug: esp32-and-luos
authors:
  - name: Thomas Salembier
    title: CTO at Luos
    url: https://github.com/Salem-Luos
    image_url: /img/school/authors/thomas.png
tags: [esp32, iot, embedded, edge, systems]
image: /img/blog/cyber_physical_systems_Luos.png
hide_table_of_contents: false
date: 2022-06-30T11:00
---

![ESP32 and Luos](/img/blog/ESP32-and-Luos.png)

With the Luos development team, we are constantly working on integrating our solution with the tools you use. 

Great News! Now luos_engine is plug-and-play compatible with the ESP32 family!

<!--truncate-->

<h2>What’s ESP32?</h2>

The ESP32 is a low-cost, low-power microcontroller with built-in Wi-Fi and Bluetooth Classic/BLE support.

The ESP32 is a successor to the ESP8266, a breakout hit on Kickstarter. The ESP32 adds Wi-Fi and Bluetooth Classic/BLE support to the already impressive list of features of the ESP8266.

ESP32 is created by Espressif Systems, a Shanghai-based company with an excellent reputation for producing low-cost, low-power microcontrollers.

ESP32 is based on Tensilica's Xtensa LX6 architecture, incorporating dual-mode Wi-Fi, Bluetooth management, and a DSP. It is often dedicated to the Internet of Things (IoT) and embedded applications because its price is low.

The small ESP32 package has a high level of integrations, such as:

- RF balun
- In-built antenna switches
- Power amplifier
- Low-noise receive amplifier
- Filters
- Power management modules
- With a Printed Circuit Board (PCB), ESP32 provides an accessible and versatile application for your projects.

Indeed in the new release 2.5.0, a Hardware abstraction layer of luos_engine and an example will allow you to test Luos technology on those MCU and develop your services for ESP32 family. Follow our tutorial to start with Luos and ESP32.
Luos team developed a HAL based on ESP-IDF SDK provided by Espressif to create a Robus network and natively exchange messages and information through Luos protocol.
This new covering of MCU family makes Luos compatible with IoT world product development. It offers the possibility to make new tools for Luos like a gate and an inspector to communicate with an embedded product on a computer through Wi-Fi and Bluetooth.
ESP32 HAL gives access to a broad community of developers who can benefit from the plug-and-play protocol networking and Luos microservices approach of product development to capitalize on many codes already done and tested worldwide.

Luos' topology detection feature can be very relevant for IoT products and very useful for developers who can easily hot plug boards and add features to an existing system. With the Luos protocol and networking, you can connect MCUs from different brands in a snap!

ESP32 is popular worldwide in maker culture to create wirelessly connected projects easily through Arduino SDK. luos_engine is also compatible with Arduino SDK. It closes the loop by connecting the project between boards and makes it easy to share and reuse the functionality in many innovative projects in the prototyping or production phase.

<div align="center">
  <Image src="/img/blog/communication_esp32_arduino_and_luos_engine_white.svg" darkSrc="/img/blog/communication_esp32_arduino_and_luos_engine_dark.svg" alt="Communication principle between luos_engine, Arduino and ESP32" />
</div>

<h2>Compatibility</h2>

Luos HAL is compatible with many MCU developed by Espressif:

- **ESP32-S2 and ESP32-S3**
- **ESP32-C3**
- **ESP32**

![Luos HAL is now compatible with many Espressif MCUs](/img/blog/ESP8266-ESP32-comparision.png)

<h2>ESP32 Concept</h2>

![ESP32 Concept explaination](/img/blog/ESP32-concept.png)

1. A “project” is a directory that contains all the files and configuration to **build** a single “app” (executable), as well as additional supporting elements such as a partition table, data/filesystem partitions, and a bootloader.
2. “Project configuration” is held in a single file called `sdkconfig` in the project's root directory.
3. An “app” is an executable that ESP-IDF builds. A single project will usually **build** two apps a “project app” and a “bootloader app” 
4. “components” are modular pieces of standalone code that are compiled into static libraries (.a files) and linked into an app.
5. “Target” is the hardware for which an application is built.

```AsciiDoc    
- myProject/
             - CMakeLists.txt
             - sdkconfig
             - components/ - component1/ - CMakeLists.txt
                                         - Kconfig
                                         - src1.c
                           - component2/ - CMakeLists.txt
                                         - Kconfig
                                         - src1.c
                                         - include/ - component2.h
             - main/       - CMakeLists.txt
                           - src1.c
                           - src2.c

             - build/
```

<h2>Luos Concept</h2>

<div align="center">
  <Image
    src="/img/feature-service-package-node-board.png"
    darkSrc="/img/luos-layers-white.png" alt="Luos Concept explaination"
  />
</div>

1. Product. A node or a set of nodes that communicate with each other. This is where you will have the configurations and information intended for all your boards.
2. Product config. This is a config file for your entire Product (product_config.h)
3. Node. This is the board's code. This is your actual Eclipse, PlatformIO, IAR, or other projects.
4. Node config. This is the config file for your node! configure here specific need for the node like pinout or hardware peripheric in HAL (node_config.h)
5. Package. A shareable folder containing code files managing one or more services.
6. Service. Luos services can be drivers or apps. Each service can follow Luos profiles to be standard, but it can be custom.

```AsciiDoc
 Project
  │
  ├─── product_config.h
  └─── Nodes
        ├─── Node_1
        │     ├─── node_config.h
        │     ├─── main.c
        │     └─── Packages
        │             ├─── Package_1
        │             │     ├─── package_1.c
        │             │     └─── package_1.h
        │             └─── Package_2
        │                   ├─── package_2.c
        │                   └─── package_2.h
        ├─── Node_2
        │     ├─── node_config.h
        │     ├─── main.c
        │     └─── Packages
        │             └─── Package_3
        │                   ├─── package_3.c
        │                   └─── package_3.h
        │
        └─── Node_3
                ├─── node_config.h
                ├─── main.c
                └─── Packages
                        ├─── Package_4
                        │     ├─── package_4.c
                        │     └─── package_4.h
                        ├─── Package_5
                        │     ├─── package_5.c
                        │     └─── package_5.h
                        └─── Package_6
                            ├─── package_6.c
                            └─── package_6.h

```

<h2>Conclusion</h2>

As we can see, Luos and Espressif have many concepts in common! 

ESP32 target is a HAL compatibility for Luos. A project and its configuration can be linked to the product and node with their structure. Finally, the component will be a package in Luos! It’s interesting to note that the component is an independent library that must compile and reused in another project! Luos methodology advocates the same thing and provides a registry to simplify package installation and implementation in your product.
Luos fits well with these MCUs even if Espressif focuses on hardware, Luos’ approach is more of a methodology and software overlay. You can combine both strong points of those technologies:

Espressif: Easy to use SDK, mainstream hardware peripherals like Wi-Fi and Bluetooth with great API to develop IoT products.

Luos: Microservice methodology development, plug-and-play network, and protocol allowing sharing/reusing packages to facilitate team working on an embedded development product.

It is a simple and powerful way to control and manage your embedded system by combining a gate application and the Wi-Fi or Bluetooth device of the ESP32.

<div align="center">
  <Image src="/img/gate_pipe.svg" darkSrc="/img/gate_pipe_dark.svg" alt="A Gate and a pipe on the same node"/>
</div>

[Get Started with Luos](/tutorials/get-started)
