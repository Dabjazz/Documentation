# default Luos example does not compile.

### Symptom(s)

Luos provide example for differents MCU, and a HAL for MCU family. You may change definition in node_config.h of Luos hal definition to fit with your design and your MCU. After setup your environment, building Luos example create error. CRC or IrqHandler definition

### Possible explanation

- CRC case:
you may not have a CRC hardware peripheral on your MCU. If your MCU have hardware CRC, in node_config.h you choose #define USE_HW_CRC 1. event if you have this peripheral in your MCU it may not support polynome 16 that is the polynome Luos choose for CRC calculation.

- IrqHandler case:
it's possible that you want to use default configuration but irqhandler choose by Luos does not exist in you MCU.

### Resolution

- CRC case:
if you not have a CRC hardware peripheral on your MCU or if your MCU not support polynome 16, you must #define USE_HW_CRC 0

- IrqHandler case:
Check your startup file to check default MCU definition of irqhandler in you MCU. If Luos default configuration does not match with your MCU redefine peripherial used in node_config.h

### Example and Solution

in files node_config in your project

```C

/*******************************************************************************
 * LUOS HAL LIBRARY DEFINITION
*******************************************************************************
 *    Define                  | Description
 *    :-----------------------|-----------------------------------------------
 *    MCUFREQ                 | Put your the MCU frequency (value in Hz)
 *    TIMERDIV                | Timer divider clock (see your clock configuration)
 *    USE_CRC_HW              | define to 0 if there is no Module CRC in your MCU
 *    USE_TX_IT               | define to 1 to not use DMA transfert for Luos Tx
 *
 *    PORT_CLOCK_ENABLE       | Enable clock for port
 *    PTPx                    | A,B,C,D etc. PTP Branch Pin/Port/IRQ
 *    TX_LOCK_DETECT          | Disable by default use if not busy flag in USART Pin/Port/IRQ
 *    RX_EN                   | Rx enable for driver RS485 always on Pin/Port
 *    TX_EN                   | Tx enable for driver RS485 Pin/Port
 *    COM_TX                  | Tx USART Com Pin/Port/Alternate
 *    COM_RX                  | Rx USART Com Pin/Port/Alternate
 *    PINOUT_IRQHANDLER       | Callback function for Pin IRQ handler

 *    LUOS_COM_CLOCK_ENABLE   | Enable clock for USART
 *    LUOS_COM                | USART number
 *    LUOS_COM_IRQ            | USART IRQ number
 *    LUOS_COM_IRQHANDLER     | Callback function for USART IRQ handler

 *    LUOS_DMA_CLOCK_ENABLE   | Enable clock for DMA
 *    LUOS_DMA                | DMA number
 *    LUOS_DMA_CHANNEL        | DMA channel (depending on MCU DMA may need special config)

 *    LUOS_TIMER_CLOCK_ENABLE | Enable clock for Timer
 *    LUOS_TIMER              | Timer number
 *    LUOS_TIMER_IRQ          | Timer IRQ number
 *    LUOS_TIMER_IRQHANDLER   | Callback function for Timer IRQ handler

 *    FLASH_SECTOR               | FLASH page size
 *    PAGE_SIZE               | FLASH page size
 *    ADDRESS_LAST_PAGE_FLASH | Page to write alias
******************************************************************************/

/*******************************************************************************
 * MCU CONFIG
 ******************************************************************************/
#define USE_HW_CRC 0
/*******************************************************************************
 * PINOUT CONFIG
 ******************************************************************************/

/*******************************************************************************
 * COM CONFIG
 ******************************************************************************/

/*******************************************************************************
 * COM DMA CONFIG
 ******************************************************************************/

/*******************************************************************************
 * COM TIMEOUT CONFIG
 ******************************************************************************/
#define LUOS_TIMER_CLOCK_ENABLE() __HAL_RCC_TIM3_CLK_ENABLE()
#define LUOS_TIMER                TIM3
#define LUOS_TIMER_IRQ            TIM3_IRQn
#define LUOS_TIMER_IRQHANDLER()   TIM3_IRQHandler()
/*******************************************************************************
 * FLASH CONFIG
 ******************************************************************************/

```

<hr>

> **Associated documentation page(s):** 
> - [Example](https://github.com/Luos-io/Examples/tree/master/Projects/NUCLEO-F401RE/Button)
